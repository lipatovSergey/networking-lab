# Лабораторная 6 — Linux Networking: базовая диагностика сети

## Цель лабораторной

Разобраться, как операционная система Linux видит сетевые соединения,
и научиться отличать:

- проблемы кода
- проблемы TCP
- проблемы сети

без использования браузера и фреймворков.

---

## Ключевая идея

Backend-сервер — это **обычный процесс Linux**,
а сеть — это **отдельный уровень**, который можно диагностировать независимо от кода.

---

## Использованные инструменты и что они показывают

### `ss -tulpn`

Показывает:

- какие порты открыты
- какие процессы их слушают
- используется ли TCP или UDP

Используется, чтобы понять:

> запущен ли сервер и действительно ли он слушает порт.

---

### `lsof -i :PORT`

Показывает:

- какой процесс занимает конкретный порт
- PID и пользователя

Используется, чтобы ответить на вопрос:

> «Кто занял порт и почему сервер не запускается?»

---

### `curl -v`

Показывает весь путь запроса:

- DNS-резолвинг
- установку TCP-соединения
- HTTP-запрос и ответ

Позволяет увидеть границу:

- TCP отвечает за соединение
- HTTP — это текст поверх TCP

---

### `ping`

Использует ICMP.

Проверяет:

- доступен ли хост по сети

Не проверяет:

- TCP
- HTTP
- работу сервера

---

### `traceroute`

Показывает маршрут пакета через сеть:

- последовательность маршрутизаторов (hop)
- задержки на каждом этапе

Важно:

- `* * *` — это нормально (ICMP может быть заблокирован)
- даже если traceroute обрывается, сайт может работать

---

### `ip addr`

Показывает:

- сетевые интерфейсы
- IP-адреса машины

Важно:

- `lo (127.0.0.1)` — loopback, только для локальных соединений
- сервер на `127.0.0.1` недоступен извне

---

### `ip route`

Показывает:

- куда ОС отправляет пакеты
- какой gateway используется по умолчанию

Ключевая строка:

- `default via` — основной шлюз в интернет

---

## Важные выводы

- HTTP работает поверх TCP
- TCP работает поверх IP
- проблемы могут возникать на любом уровне
- не все сетевые проблемы связаны с кодом
- Linux предоставляет инструменты для диагностики каждого уровня
